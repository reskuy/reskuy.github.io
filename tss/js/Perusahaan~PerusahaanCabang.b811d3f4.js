(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Perusahaan~PerusahaanCabang"],{"2aeb":function(t,e,a){"use strict";a("8aba")},"7cb8":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-col",{directives:[{name:"show",rawName:"v-show",value:1==t.loading,expression:"loading == true"}]},[a("v-sheet",{staticClass:"pa-3 mb-n5",attrs:{height:"565","max-width":"6000",color:t.$vuetify.theme.dark?"grey darken-4":"grey lighten-5"}},[a("div",[a("v-card-actions",[a("v-skeleton-loader",{attrs:{width:"400",type:"heading"}}),a("v-spacer"),a("v-skeleton-loader",{attrs:{type:"card",width:"80",height:"35"}}),a("v-skeleton-loader",{staticClass:"ml-2",attrs:{type:"card",width:"80",height:"35"}})],1)],1),a("div",[a("v-skeleton-loader",{staticClass:"mt-1",attrs:{tile:"",height:"50",type:"image"}})],1),a("div",[a("v-card-actions",[a("v-spacer"),a("v-skeleton-loader",{staticClass:"rounded-xl mx-n1 mt-1 mb-1",attrs:{type:"image",width:"250",height:"20"}})],1)],1),a("div",[a("v-skeleton-loader",{attrs:{tile:"",height:"200",type:"image"}}),a("v-skeleton-loader",{staticClass:"mb-3",attrs:{tile:"",height:"132",type:"image"}})],1),a("div",[a("v-card-actions",[a("v-skeleton-loader",{staticClass:"mt-1 mx-n2",attrs:{width:"800",type:"heading"}}),a("v-spacer"),a("v-skeleton-loader",{staticClass:"rounded-xl mx-n1",attrs:{type:"image",width:"170",height:"20"}})],1)],1)])],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:0==this.valid,expression:"this.valid == false"}]},[a("v-alert",{attrs:{text:"",type:"error"}},[t._v(' Kamu tidak punya akses Ke halaman "Perusahaan" ')])],1),a("v-alert",{staticClass:"rounded-lg",staticStyle:{position:"fixed","z-index":"2",right:"20px"},attrs:{dark:"",dismissible:"",elevation:"4",color:"success",icon:"mdi-check-bold",transition:"slide-x-transition"},model:{value:t.Alert,callback:function(e){t.Alert=e},expression:"Alert"}},[a("v-icon",{staticClass:"mr-1"},[t._v("check-circle")]),t._v(" Data Berhasil Disimpan ")],1),a("v-alert",{staticClass:"rounded-lg",staticStyle:{position:"fixed","z-index":"2",right:"20px"},attrs:{dark:"",dismissible:"",elevation:"4",color:"success",icon:"mdi-check-bold",transition:"slide-x-transition"},model:{value:t.AlertBerhasilTerubah,callback:function(e){t.AlertBerhasilTerubah=e},expression:"AlertBerhasilTerubah"}},[t._v(" Data Berhasil Diubah ")]),a("v-alert",{staticClass:"rounded-lg",staticStyle:{position:"fixed","z-index":"2",right:"20px"},attrs:{dark:"",dismissible:"",color:"error",elevation:"4",icon:"mdi-delete",transition:"slide-x-transition"},model:{value:t.AlertDataTerhapus,callback:function(e){t.AlertDataTerhapus=e},expression:"AlertDataTerhapus"}},[t._v(" Data Berhasil Dihapus ")]),a("v-container",{directives:[{name:"show",rawName:"v-show",value:1==this.valid,expression:"this.valid == true"}],attrs:{fluid:""}},[a("v-card",{directives:[{name:"show",rawName:"v-show",value:0==t.loading,expression:"loading == false"}],staticClass:"elevation-3",attrs:{tile:"",outlined:""}},[a("v-col",[a("v-toolbar",{directives:[{name:"resize",rawName:"v-resize",value:t.onResize,expression:"onResize"}],attrs:{flat:"",outlined:"",height:"55",color:"dark"}},[a("v-toolbar-title",[t._v(" Data Perusahaan ")]),a("v-divider",{staticClass:"ml-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("div",{staticClass:"text-center mx-2"},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":1,"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[a("v-btn",t._g(t._b({directives:[{name:"show",rawName:"v-show",value:0==t.mobile,expression:"mobile == false"}],staticClass:"text-capitalize",attrs:{outlined:"",text:""},on:{click:function(e){t.MenuExport=!t.MenuExport}}},"v-btn",s,!1),i),[a("v-icon",{staticClass:"ml-n2 mr-1"},[t._v("mdi-table-arrow-right")]),a("span",{staticClass:"subtitle-1"},[t._v("Export Data")]),a("v-icon",{staticClass:"ml-1 mr-n3"},[t._v(t._s(t.MenuExport?"mdi-chevron-up":"mdi-chevron-down"))])],1)]}}]),model:{value:t.MenuExport,callback:function(e){t.MenuExport=e},expression:"MenuExport"}},[a("v-card",{directives:[{name:"show",rawName:"v-show",value:t.MenuExport,expression:"MenuExport"}],staticClass:"pa-2",attrs:{outlined:"",height:"100"}},[a("div",{staticClass:"mb-2"},[a("v-btn",{staticClass:"text-capitalize subtitle-1",attrs:{text:"",block:"",outlined:""},nativeOn:{click:function(e){return t.PdfExport(e)}}},[t._v(" Pdf "),a("v-icon",{attrs:{right:""}},[t._v("mdi-adobe-acrobat")])],1)],1),a("div",[a("v-btn",{staticClass:"text-capitalize subtitle-1",attrs:{text:"",block:"",outlined:""},nativeOn:{click:function(e){return t.excelExport(e)}}},[t._v(" Excel "),a("v-icon",{attrs:{right:""}},[t._v("mdi-microsoft-excel")])],1)],1)])],1),a("v-dialog",{attrs:{"max-width":"200"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[a("v-btn",t._g(t._b({directives:[{name:"show",rawName:"v-show",value:1==t.mobile,expression:"mobile == true"}],attrs:{outlined:"",small:"",text:"",fab:""}},"v-btn",s,!1),i),[a("v-icon",[t._v("mdi-table-arrow-right")])],1)]}}]),model:{value:t.DialogPilihExport,callback:function(e){t.DialogPilihExport=e},expression:"DialogPilihExport"}},[a("v-card",{staticClass:"rounded-lg"},[a("v-toolbar",{attrs:{dense:""}},[a("v-layout",{attrs:{"justify-center":""}},[a("v-toolbar-title",[t._v(" Pilih Export File ")])],1)],1),a("v-card",{staticClass:"pa-2"},[a("v-btn",{staticClass:"text-capitalize subtitle-1 mb-2",attrs:{text:"",block:"",outlined:""},nativeOn:{click:function(e){return t.PdfExport(e)}}},[t._v(" Pdf "),a("v-icon",{attrs:{right:""}},[t._v("mdi-adobe-acrobat")])],1),a("v-btn",{staticClass:"text-capitalize subtitle-1",attrs:{text:"",block:"",outlined:""},nativeOn:{click:function(e){return t.excelExport(e)}}},[t._v(" Excel "),a("v-icon",{attrs:{right:""}},[t._v("mdi-microsoft-excel")])],1)],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"350px",scrollable:"",persistent:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[a("v-btn",t._g(t._b({directives:[{name:"show",rawName:"v-show",value:0==t.mobile&&1==t.ValidCreate,expression:"mobile == false && ValidCreate == true"}],staticClass:"text-capitalize mr-n2",attrs:{outlined:"",text:""}},"v-btn",s,!1),i),[a("v-icon",{staticClass:"ml-n2 mr-1"},[t._v("mdi-plus-thick")]),a("span",{staticClass:"mr-n1 subtitle-1"},[t._v("Tambah")])],1),a("v-btn",t._g(t._b({directives:[{name:"show",rawName:"v-show",value:1==t.mobile&&1==t.ValidCreate,expression:"mobile == true && ValidCreate == true"}],staticClass:"mr-n2",attrs:{outlined:"",small:"",text:"",fab:""}},"v-btn",s,!1),i),[a("v-icon",[t._v("mdi-plus-thick")])],1)]}}]),model:{value:t.DialogTambahPerusahaan,callback:function(e){t.DialogTambahPerusahaan=e},expression:"DialogTambahPerusahaan"}},[a("v-card",{staticClass:"rounded-lg"},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[a("span",{staticClass:"title"},[t._v(t._s(t.formTitlePerusahaan))])]),a("v-spacer"),a("v-btn",{attrs:{fab:"",text:"",small:""},on:{click:t.KeluarDialogPerusahaan}},[a("v-icon",[t._v("mdi-window-close")])],1)],1),a("v-divider"),a("v-card-text",[a("div",{staticClass:"mr-n4 ml-n4"},[a("v-card",{staticClass:"mt-2 mb-n3 mr-n2",attrs:{outlined:"",tile:""}},[a("div",{staticClass:"mt-2"},[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{dense:"",clearable:"",label:"Kode Perusahaan",color:"dark",hint:"Wajib Diisi.",rules:[function(t){return!!t||"Tidak Boleh Kosong"}]},model:{value:t.editedItem.KodePerusahaan,callback:function(e){t.$set(t.editedItem,"KodePerusahaan",e)},expression:"editedItem.KodePerusahaan"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{dense:"",clearable:"",label:"Nama Perusahaan",color:"dark",hint:"Wajib Diisi.",rules:[function(t){return!!t||"Tidak Boleh Kosong"}]},model:{value:t.editedItem.NamaPerusahaan,callback:function(e){t.$set(t.editedItem,"NamaPerusahaan",e)},expression:"editedItem.NamaPerusahaan"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{dense:"",clearable:"",label:"Alamat",color:"dark",hint:"Wajib Diisi.",rules:[function(t){return!!t||"Tidak Boleh Kosong"}]},model:{value:t.editedItem.Alamat,callback:function(e){t.$set(t.editedItem,"Alamat",e)},expression:"editedItem.Alamat"}})],1)],1)])],1)]),a("v-divider"),a("v-card-actions",[a("span",{staticClass:"d-inline-block text-truncate"},[t._v(" Status : "),a("span",[t._v(t._s(t.Status))])]),a("v-spacer"),a("v-btn",{staticClass:"text-capitalize",attrs:{dark:"",color:"red darken-4 mx-n2"},on:{click:t.Simpan}},[a("v-icon",{staticClass:"mr-1"},[t._v("mdi-content-save")]),t._v(" Simpan ")],1)],1)],1)],1)],1),a("ejs-grid",{ref:"gridperusahaan",attrs:{height:"100%",gridLines:"Both",id:"perusahaanview",dataSource:t.DataPerusahaan,allowPaging:!0,allowSorting:!0,allowResizing:!0,allowGrouping:!0,toolbar:t.toolbarOptions,commandClick:t.commandClick,pageSettings:t.pageSettings,allowExcelExport:!0,allowPdfExport:!0}},[a("e-columns",[a("e-column",{attrs:{headerText:"Aksi",textAlign:"Center",width:"120",commands:t.commands,lockColumn:!0,customAttributes:t.customAttributes}},[a("div",{staticClass:"btn-group"},[a("v-btn",{staticClass:"btn btn-default",attrs:{type:"button","(click)":"prediemRowEdit($event)"}},[a("i",{staticClass:"fa fa-pencil"})]),a("v-btn",{staticClass:"btn btn-default",attrs:{type:"button","(click)":"prediemRowDelete($event)"}},[a("i",{staticClass:"fa fa-trash"})])],1)]),a("e-column",{attrs:{field:"KodePerusahaan",headerText:"Kode Perusahaan",textAlign:"Left",width:"170"}}),a("e-column",{attrs:{field:"NamaPerusahaan",headerText:"Nama Perusahaan",width:"300"}}),a("e-column",{attrs:{field:"Alamat",headerText:"Alamat",width:"150"}}),a("e-column",{attrs:{field:"DibuatOleh",headerText:"DibuatOleh",textAlign:"Left",width:"150"}}),a("e-column",{attrs:{field:"DibuatTgl",headerText:"DibuatTgl",textAlign:"Left",width:"150"}}),a("e-column",{attrs:{field:"DiubahOleh",headerText:"DiubahOleh",textAlign:"Left",width:"150"}}),a("e-column",{attrs:{field:"DiubahTgl",headerText:"DiubahTgl",textAlign:"Left",width:"150"}})],1)],1)],1)],1)],1)],1)},s=[],n=a("1da1"),r=(a("1276"),a("ac1f"),a("4de4"),a("b0c0"),a("96cf"),a("2b0e")),o=a("c041"),l=a("af93"),d=a("e29d"),c=a("2375"),u=a("efb1"),h=a("e09d"),m=a("4f03"),v=a("b0e8"),p=a("6e1f"),f=a("c2da"),b=a("0dcc");r["a"].use(o["a"]);var g={data:function(){return{mobile:null,valid:null,Permission:[],ValidCreate:!1,passbaru:null,KodePerusahaan:null,textAktif:!0,umenu:[],verifpassbaru:null,loading:!0,Kode:null,DialogPilihExport:!1,windowSize:{x:0,y:0},MenuExport:!1,commands:[],customAttributes:{class:"customcss"},Alert:!1,akun:[],usermenu:null,AlertDataTerhapus:!1,AlertBerhasilTerubah:!1,user:[],token:null,DialogTambahPerusahaan:!1,form:new FormData,editedIndex:-1,defaultItem:{id:"",KodePerusahaan:"",NamaPerusahaan:"",Alamat:""},editedItem:{id:"",KodePerusahaan:"",NamaPerusahaan:"",Alamat:""},toolbarOptions:["Search"],DataPerusahaan:[],pageSettings:{pageSize:10,pageSizes:["5","10","15","20","50","All"]}}},provide:{grid:[l["a"],d["a"],c["a"],u["a"],h["a"],m["a"],v["a"],p["a"],f["a"]]},mounted:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.token=localStorage.getItem("token"),t.user=JSON.parse(localStorage.getItem("user")),t.Permission.some((function(t){return"R"==t}))?(t.valid=!0,t.getdata()):(t.loading=!1,t.valid=!1),t.Permission.some((function(t){return"C"==t}))&&(t.ValidCreate=!0),t.Permission.some((function(t){return"U"==t}))&&t.commands.push({buttonOption:{cssClass:"e-flat Edit",iconCss:"e-edit e-icons",content:" "}}),t.Permission.some((function(t){return"D"==t}))&&t.commands.push({buttonOption:{cssClass:"e-flat Delete",iconCss:"e-delete e-icons",content:" "}});case 6:case"end":return e.stop()}}),e)})))()},created:function(){console.log("param",this.$route.params.Permission);var t=this.$route.params.Permission;this.Permission=null==t?[]:t.split(",")},computed:{formTitlePerusahaan:function(){return-1===this.editedIndex?"Tambah Data Perusahaan":"Ubah Data Perusahaan"},Status:function(){return-1===this.editedIndex?"Baru":"Ubah"}},watch:{windowSize:function(){this.windowSize.x<450?(this.titleClass="d-none",this.mobile=!0):(this.titleClass="mr-4",this.mobile=!1)},DialogTambahPerusahaan:function(t){t||this.KeluarDialogPerusahaan()},Alert:function(){this.AlertItem()},AlertDataTerhapus:function(){this.AlertItem()},AlertBerhasilTerubah:function(){this.AlertItem()}},methods:{onResize:function(){this.windowSize={x:window.innerWidth,y:window.innerHeight}},cariKode:function(t){var e=this;if(this.textAktif=null==t,null==t||""==t||0==t.length)this.editedIndex=-1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}));else{this.Kode=t.toUpperCase();var a=this.DataPerusahaan.filter((function(e){return e.Kode==t.toUpperCase()}));a.length>0&&(this.editedIndex=1,this.textAktif=!1,this.editedItem.Nama=a[0].Nama)}},saya:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0!=t.$menu){e.next=5;break}return e.next=3,b["a"].get("/menu?token="+t.token,{headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(e){if(e){t.akun=e.data;var a=t.$route.name,i=t.akun.filter((function(t){return t.Route==a}));i.length>0?t.valid=!0:(t.valid=!1,t.loading=!1)}})).catch((function(e){"Error: Request failed with status code 401"==e&&"/login"!=t.$route.path&&t.logout()}));case 3:e.next=9;break;case 5:t.akun=t.$menu,a=t.$route.name,i=t.akun.filter((function(t){return t.Route==a})),i.length>0?t.valid=!0:(t.valid=!1,t.loading=!1);case 9:case"end":return e.stop()}}),e)})))()},Simpan:function(){var t=this;"Tambah Data Perusahaan"===this.formTitlePerusahaan?b["a"].post("/perusahaan?token="+this.token,{KodePerusahaan:this.editedItem.KodePerusahaan,NamaPerusahaan:this.editedItem.NamaPerusahaan,Alamat:this.editedItem.Alamat},{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(this.token)}}).then((function(e){e&&(t.Alert=!0,t.getdata())})):"Ubah Data Perusahaan"===this.formTitlePerusahaan&&b["a"].put("/perusahaan/"+this.editedItem.id+"/?token="+this.token,{KodePerusahaan:this.editedItem.KodePerusahaan,NamaPerusahaan:this.editedItem.NamaPerusahaan,Alamat:this.editedItem.Alamat},{headers:{Authorization:"Bearer ".concat(this.token)}}).then((function(e){e&&(t.getdata(),t.AlertBerhasilTerubah=!0)})),this.KeluarDialogPerusahaan()},commandClick:function(t){var e=this;if(t.target.classList.contains("custombutton"));else if(t.target.classList.contains("Delete")){var a=confirm("Yakin Hapus Data?");1==a&&b["a"].delete("/perusahaan/"+t.rowData.id+"?token="+this.token).then((function(t){t&&(e.getdata(),e.AlertDataTerhapus=!0)})).catch((function(t){console.log(t)}))}else if(t.target.classList.contains("Edit")){this.KodePerusahaan=t.rowData.KodePerusahaan;var i=t;this.editedIndex=1,this.editedItem=i.rowData,this.DialogTambahPerusahaan=!0}},PdfExport:function(){var t=document.getElementById("perusahaanview").ej2_instances[0];t.pdfExportProperties={pageOrientation:"Landscape",fileName:"ReportPerusahaan.pdf"},t.columns[1].visible=!1,t.columns[4].visible=!1,t.columns[3].visible=!1,this.$refs.gridperusahaan.pdfExport(t.pdfExportProperties)},excelExport:function(){this.$refs.gridperusahaan.excelExport()},KeluarDialogPerusahaan:function(){var t=this;this.DialogTambahPerusahaan=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1,t.Kode=null,t.textAktif=!0}))},getdata:function(){var t=this;b["a"].get("/perusahaan?token="+this.token).then((function(e){e&&(t.DataPerusahaan=e.data,t.loading=!1)}),(function(t){console.log(t)}))},Reset:function(){var t=this;this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem)}))},logout:function(){b["a"].post("/logout",this.token).then((function(t){})),localStorage.removeItem("token"),localStorage.removeItem("user"),location.reload(!1)},AlertItem:function(){var t=this;window.setInterval((function(){t.Alert=!1,t.AlertDataTerhapus=!1,t.AlertBerhasilTerubah=!1}),3e3)}}},x=g,k=(a("2aeb"),a("2877")),w=a("6544"),P=a.n(w),C=a("0798"),D=a("8336"),A=a("b0af"),T=a("99d9"),I=a("62ad"),_=a("a523"),y=a("169a"),E=a("ce7e"),S=a("132d"),K=a("a722"),z=a("e449"),N=a("8dd9"),V=a("3129"),O=a("2fa4"),B=a("8654"),$=a("71d9"),R=a("2a7f"),j=a("269a"),L=a.n(j),M=a("dc22"),U=Object(k["a"])(x,i,s,!1,null,"366291a8",null);e["default"]=U.exports;P()(U,{VAlert:C["a"],VBtn:D["a"],VCard:A["a"],VCardActions:T["a"],VCardText:T["b"],VCol:I["a"],VContainer:_["a"],VDialog:y["a"],VDivider:E["a"],VIcon:S["a"],VLayout:K["a"],VMenu:z["a"],VSheet:N["a"],VSkeletonLoader:V["a"],VSpacer:O["a"],VTextField:B["a"],VToolbar:$["a"],VToolbarTitle:R["b"]}),L()(U,{Resize:M["a"]})},"8aba":function(t,e,a){},a523:function(t,e,a){"use strict";a("4de4"),a("b64b"),a("2ca0"),a("99af"),a("20f6"),a("4b85");var i=a("e8f2"),s=a("d9f7");e["a"]=Object(i["a"])("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(t,e){var a,i=e.props,n=e.data,r=e.children,o=n.attrs;return o&&(n.attrs={},a=Object.keys(o).filter((function(t){if("slot"===t)return!1;var e=o[t];return t.startsWith("data-")?(n.attrs[t]=e,!1):e||"string"===typeof e}))),i.id&&(n.domProps=n.domProps||{},n.domProps.id=i.id),t(i.tag,Object(s["a"])(n,{staticClass:"container",class:Array({"container--fluid":i.fluid}).concat(a||[])}),r)}})}}]);
//# sourceMappingURL=Perusahaan~PerusahaanCabang.b811d3f4.js.map